import{s as y,n as v,o as L,b as R,e as S}from"../chunks/scheduler.e108d1fd.js";import{S as I,i as T,g as U,h as x,j as E,f as g,l as k,k as M,a as A,s as C,r as W,x as q,c as B,u as H,v as D,d as F,t as N,w as O}from"../chunks/index.38392eeb.js";import{p as P}from"../chunks/stores.81ee9469.js";function z(a){let s;return{c(){s=U("main"),this.h()},l(n){s=x(n,"MAIN",{style:!0,class:!0}),E(s).forEach(g),this.h()},h(){k(s,"height","calc(100% - "+a[0]+"px)"),M(s,"class","svelte-gipc32")},m(n,t){A(n,s,t),a[3](s)},p(n,[t]){t&1&&k(s,"height","calc(100% - "+n[0]+"px)")},i:v,o:v,d(n){n&&g(s),a[3](null)}}}function G(a){var n;return(((n=a.match(/<style>[\s\S]*?<\/style>/g))==null?void 0:n.join(""))||"")+a.replace(/\n<style>[\s\S]*?<\/style>/g,"").split(`
`).map(t=>{var c,h,u,f,p,b;t=t.trim();const o=((c=t.match(/\{([^{}]+)\}/g))==null?void 0:c.map(l=>l.replace(/(\{|\})/g,"")))||[];let e="",r=[],i=[];for(let l=0;l<o.length;l++){const m=o[l],d=(h=m.match(/!([^ ]+)/))==null?void 0:h[1],$=(u=m.match(/#([^ ]+)/))==null?void 0:u[1],_=((f=m.match(/(^\.| \.)([^ ]+)/g))==null?void 0:f.map(j=>j.replace(/(^\.| \.)/,"")))||[],w=((p=m.match(/@([^ ]+)/g))==null?void 0:p.map(j=>j.replace(/@/,"")))||[];d?t=t.replace(`{${m}}`,`<img src="${d}" alt="${d}"${$?` id="${$}"`:""}${_.length?` class="${_.join(" ")}"`:""}${w.length?` state="${w.join(" ")}"`:""}/>`):(e=$,r=_,i=w,t=t.replace(`{${m}}`,"").trim())}if(t.startsWith("#")){const l=((b=t.match(/^(#+)/))==null?void 0:b[0].length)||1,m=t.replace(/^(#+\s*)/,"").trim();return`<h${l}${e?` id="${e}"`:""}${r.length>0?` class="${r.join(" ")}"`:""}${i.length>0?` state="${i.join(" ")}"`:""}>${m}</h${l}>`}else if(t.startsWith("{")){const l=t.replace(/^{/,"").replace(/}$/,"").trim();return`<div${e?` id="${e}"`:""}${r.length>0?` class="${r.join(" ")}"`:""}${i.length>0?` state="${i.join(" ")}"`:""}>${l}${t.endsWith("}")?"</div>":""}`}else return t.startsWith("}")?"</div>":t.match(/^<img[^>]+>$/)?t:t===""&&o.length===0?"<br>":`<p${e?` id="${e}"`:""}${r.length>0?` class="${r.join(" ")}"`:""}${i.length>0?` state="${i.join(" ")}"`:""}>${t}</p>`}).join("")}async function J(a){return await(await fetch(a)).text()}function K(a,s,n){let{markdownURL:t}=s,{offsetTop:o=0}=s,e;function r(c){e&&c.forEach(h=>{var f;(((f=h.target.getAttribute("state"))==null?void 0:f.split(" "))||[]).forEach(p=>{e.classList.toggle(p,h.isIntersecting)})})}L(()=>{J(t).then(c=>{const h=G(c);n(1,e.innerHTML=h,e);const u=new IntersectionObserver(r,{root:e,rootMargin:"0px",threshold:.5});e.querySelectorAll("[state]").forEach(f=>u.observe(f))})});function i(c){R[c?"unshift":"push"](()=>{e=c,n(1,e)})}return a.$$set=c=>{"markdownURL"in c&&n(2,t=c.markdownURL),"offsetTop"in c&&n(0,o=c.offsetTop)},[o,e,t,i]}class Q extends I{constructor(s){super(),T(this,s,K,z,y,{markdownURL:2,offsetTop:0})}}function V(a){let s,n,t,o;return document.title=s="Benji is "+a[2][a[0]],t=new Q({props:{markdownURL:a[1].url.pathname+"/markdown/letter.md"}}),{c(){n=C(),W(t.$$.fragment)},l(e){q("svelte-13vrgae",document.head).forEach(g),n=B(e),H(t.$$.fragment,e)},m(e,r){A(e,n,r),D(t,e,r),o=!0},p(e,[r]){(!o||r&5)&&s!==(s="Benji is "+e[2][e[0]])&&(document.title=s);const i={};r&2&&(i.markdownURL=e[1].url.pathname+"/markdown/letter.md"),t.$set(i)},i(e){o||(F(t.$$.fragment,e),o=!0)},o(e){N(t.$$.fragment,e),o=!1},d(e){e&&g(n),O(t,e)}}}function X(a,s,n){let t;S(a,P,r=>n(1,t=r));const o=["awesome","cool","sweet","fun","ðŸŽ‰"];let e=0;return L(()=>{setInterval(()=>{n(0,e=(e+1)%o.length)},500)}),[e,t,o]}class et extends I{constructor(s){super(),T(this,s,X,V,y,{})}}export{et as component};
